import"./Nav.astro_astro_type_script_index_1_lang.50417801.js";const f={_origin:"https://api.emailjs.com"},_=(e,t="https://api.emailjs.com")=>{f._userID=e,f._origin=t},E=(e,t,r)=>{if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class x{constructor(t){this.status=t?t.status:0,this.text=t?t.responseText:"Network Error"}}const L=(e,t,r={})=>new Promise((s,i)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:n})=>{const S=new x(n);S.status===200||S.text==="OK"?s(S):i(S)}),a.addEventListener("error",({target:n})=>{i(new x(n))}),a.open("POST",f._origin+e,!0),Object.keys(r).forEach(n=>{a.setRequestHeader(n,r[n])}),a.send(t)}),$=(e,t,r,s)=>{const i=s||f._userID;return E(i,e,t),L("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:i,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"})},k=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},j=(e,t,r,s)=>{const i=s||f._userID,a=k(r);E(i,e,t);const n=new FormData(a);return n.append("lib_version","3.11.0"),n.append("service_id",e),n.append("template_id",t),n.append("user_id",i),L("/api/v1.0/email/send-form",n)},A={init:_,send:$,sendForm:j};let V=document.querySelector("#sendEmails"),u=document.querySelector(".group #user"),m=document.querySelector(".group #email"),d=document.querySelector(".group #subject"),b=document.querySelector(".group #number"),p=document.querySelector(".group textarea"),o=document.documentElement,q=document.querySelector("#success"),y=document.querySelector("#error-pop"),F=document.querySelector(".popup-bg #successButton"),T=document.querySelector(".popup-bg #errorButton");const g=e=>e!=="",v=(e,t,r)=>!(e<t||e>r),M=e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),l=(e,t)=>{const r=e.nextElementSibling.nextElementSibling;r.classList.add("show"),e.classList.add("error"),e.nextElementSibling.classList.add("error");const s=r.querySelector(".errors-massage p");s.textContent=t},h=e=>{const t=e.nextElementSibling.nextElementSibling;t.classList.remove("show"),e.classList.remove("error"),e.nextElementSibling.classList.remove("error");const r=t.querySelector(".errors-massage p");r.textContent=""};let P=()=>{let e=!1,t=u.value.trim(),r=3,s=25;return g(t)?v(t.length,r,s)?(h(u),e=!0):(l(u,`Username must be between ${r} and ${s} characters.`),o.getAttribute("lang")=="en"?l(u,`Username must be between ${r} and ${s} characters.`):l(u,`يجب أن يكون اسم المستخدم بين ${r} و ${s} حرفًا .`)):o.getAttribute("lang")=="en"?l(u,"please fill this fild"):l(u," من فضلك املأ هذا الحقل"),e},O=()=>{let e=!1,t=m.value.trim();return g(t)?M(t)?(h(m),e=!0):o.getAttribute("lang")=="en"?l(m,"Email is not valid"):l(m," ا لبريد الإلكتروني غير صالح"):o.getAttribute("lang")=="en"?l(m,"please fill this fild"):l(m," من فضلك املأ هذا الحقل"),e},D=()=>{let e=!1,t=b.value.trim();return g(t)?(h(b),e=!0):o.getAttribute("lang")=="en"?l(b,"please fill this fild"):l(b," من فضلك املأ هذا الحقل"),e},H=()=>{let e=!1,t=d.value.trim(),r=5,s=25;return g(t)?v(t.length,r,s)?(h(d),e=!0):o.getAttribute("lang")=="en"?l(d,`Subject must be between ${r} and ${s} characters.`):l(d,`يجب أن يكون الموضوع بين ${r} و ${s} حرفًا .`):o.getAttribute("lang")=="en"?l(d,"please fill this fild"):l(d," من فضلك املأ هذا الحقل"),e},U=()=>{let e=!1,t=p.value.trim(),r=10,s=150;return g(t)?v(t.length,r,s)?(h(p),e=!0):o.getAttribute("lang")=="en"?l(p,`Message must be between ${r} and ${s} characters.`):l(p,`يجب أن تكون الرسالة بين ${r} و ${s} حرفًا . `):o.getAttribute("lang")=="en"?l(p,"please fill this fild"):l(p," من فضلك املأ هذا الحقل"),e};function I(e){e.preventDefault();let t=P(),r=O(),s=D(),i=H(),a=U();t&&r&&s&&i&&a&&C()}function C(){let e=document.querySelector("#user-name");e.innerText=document.querySelector("input[type=text]").value;const t={name:document.querySelector(".group #user").value,Email:document.querySelector(".group #email").value,number:document.querySelector(".group #number").value,Subject:document.querySelector(".group #subject").value,massage:document.querySelector("textarea").value};A.send("service_i4411xf","template_a2l5h94",t,"tOMHHnvbWpwW0r8gc").then(r=>{q.classList.add("open")},r=>{y.classList.add("open")})}let w=()=>{u.value="",m.value="",b.value="",d.value="",p.value="",q.classList.remove("open"),y.classList.remove("open")};F.onclick=w;T.onclick=w;V.onclick=I;let N=document.querySelectorAll("input"),c=document.querySelector("textarea");function B(){N.forEach(e=>{e.addEventListener("blur",function(){let t=e.nextElementSibling;e.value==""?(e.classList.add("error"),e.nextElementSibling.classList.add("error"),t.nextElementSibling.classList.add("show")):(e.classList.remove("error"),e.nextElementSibling.classList.remove("error"),t.nextElementSibling.classList.remove("show"))})}),c.addEventListener("blur",()=>{let e=c.nextElementSibling;c.value==""?(c.classList.add("error"),c.nextElementSibling.classList.add("error"),e.nextElementSibling.classList.add("show")):(c.classList.remove("error"),c.nextElementSibling.classList.remove("error"),e.nextElementSibling.classList.remove("show"))})}B();
